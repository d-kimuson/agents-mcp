{
  "$schema": "./node_modules/oxlint/configuration_schema.json",
  "plugins": [
    "unicorn",
    "typescript",
    "oxc",
    "import",
    "jsdoc",
    "promise",

    // Node.js only
    "node"
  ],
  "categories": {},
  "rules": {
    /* Correctness (違反するとそのままランタイムエラーになるような無条件適用しやすいルール群) */
    // default rules
    "constructor-super": "error",
    "for-direction": "error",
    "no-async-promise-executor": "error",
    "no-caller": "error",
    "no-class-assign": "error",
    "no-compare-neg-zero": "error",
    "no-cond-assign": "error",
    "no-const-assign": "error",
    "no-constant-binary-expression": "error",
    "no-constant-condition": "error",
    "no-control-regex": "error",
    "no-debugger": "error",
    "no-delete-var": "error",
    "no-dupe-class-members": "error",
    "no-dupe-else-if": "error",
    "no-dupe-keys": "error",
    "no-duplicate-case": "error",
    "no-empty-character-class": "error",
    "no-empty-pattern": "error",
    "no-empty-static-block": "error",
    "no-eval": "error",
    "no-ex-assign": "error",
    "no-extra-boolean-cast": "error",
    "no-func-assign": "error",
    "no-global-assign": "error",
    "no-import-assign": "error",
    "no-invalid-regexp": "error",
    "no-irregular-whitespace": "error",
    "no-loss-of-precision": "error",
    "no-new-native-nonconstructor": "error",
    "no-nonoctal-decimal-escape": "error",
    "no-obj-calls": "error",
    "no-self-assign": "error",
    "no-setter-return": "error",
    "no-shadow-restricted-names": "error",
    "no-sparse-arrays": "error",
    "no-this-before-super": "error",
    "no-unassigned-vars": "error",
    "no-unsafe-finally": "error",
    "no-unsafe-negation": "error",
    "no-unsafe-optional-chaining": "error",
    "no-unused-expressions": "error",
    "no-unused-labels": "error",
    "no-unused-private-class-members": "error",
    "no-unused-vars": "error",
    "no-useless-backreference": "error",
    "no-useless-catch": "error",
    "no-useless-escape": "error",
    "no-useless-rename": "error",
    "no-with": "error",
    "require-yield": "error",
    "use-isnan": "error",
    "valid-typeof": "error",

    "oxc/bad-array-method-on-arguments": "error",
    "oxc/bad-char-at-comparison": "error",
    "oxc/bad-comparison-sequence": "error",
    "oxc/bad-min-max-func": "error",
    "oxc/bad-object-literal-comparison": "error",
    "oxc/bad-replace-all-arg": "error",
    "oxc/const-comparisons": "error",
    "oxc/double-comparisons": "error",
    "oxc/erasing-op": "error",
    "oxc/missing-throw": "error",
    "oxc/number-arg-out-of-range": "error",
    "oxc/only-used-in-recursion": "error",
    "oxc/uninvoked-array-callback": "error",

    "typescript/await-thenable": "error",
    "typescript/no-array-delete": "error",
    "typescript/no-base-to-string": "error",
    "typescript/no-duplicate-enum-values": "error",
    "typescript/no-duplicate-type-constituents": "error",
    "typescript/no-extra-non-null-assertion": "error",
    "typescript/no-floating-promises": "error",
    "typescript/no-for-in-array": "error",
    "typescript/no-implied-eval": "error",
    "typescript/no-meaningless-void-operator": "error",
    "typescript/no-misused-new": "error",
    "typescript/no-misused-spread": "error",
    "typescript/no-non-null-asserted-optional-chain": "error",
    "typescript/no-redundant-type-constituents": "error",
    "typescript/no-this-alias": "error",
    "typescript/no-unnecessary-parameter-property-assignment": "error",
    "typescript/no-unsafe-declaration-merging": "error",
    "typescript/no-unsafe-unary-minus": "error",
    "typescript/no-useless-empty-export": "error",
    "typescript/no-wrapper-object-types": "error",
    "typescript/prefer-as-const": "error",
    "typescript/require-array-sort-compare": "error",
    "typescript/restrict-template-expressions": "error",
    "typescript/triple-slash-reference": "error",
    "typescript/unbound-method": "error",

    "unicorn/no-await-in-promise-methods": "error",
    "unicorn/no-empty-file": "error",
    "unicorn/no-invalid-fetch-options": "error",
    "unicorn/no-invalid-remove-event-listener": "error",
    "unicorn/no-new-array": "error",
    "unicorn/no-single-promise-in-promise-methods": "error",
    "unicorn/no-thenable": "error",
    "unicorn/no-unnecessary-await": "error",
    "unicorn/no-useless-fallback-in-spread": "error",
    "unicorn/no-useless-length-check": "error",
    "unicorn/no-useless-spread": "error",
    "unicorn/prefer-set-size": "error",
    "unicorn/prefer-string-starts-ends-with": "error",

    // customized rules
    "import/default": "off", // 存在しない default import の検出は型チェックに委譲
    "import/namespace": "off", // 存在しない named import の検出は型チェックに委譲

    "jsdoc/check-property-names": "error", // JSDoc の property 名重複を検出
    "jsdoc/check-tag-names": "error", // 不正な JSDoc タグ名を検出
    "jsdoc/implements-on-classes": "off", // @implements の使用制約はプロジェクト依存
    "jsdoc/no-defaults": "error", // @default とデフォルト引数の重複を防止
    // JSDoc での型付けはしないので
    "jsdoc/require-property": "off", // property 強制
    "jsdoc/require-property-description": "off", // property description 強制
    "jsdoc/require-property-name": "off", // property name 強制
    "jsdoc/require-property-type": "off", // property type 強制
    "jsdoc/require-yields": "off", // yield 強制

    "promise/no-callback-in-promise": "error", // Promise 内コールバックスタイをを直接書く
    "promise/no-new-statics": "off", // new Promise.resolve の検出は型チェックに委譲
    "promise/valid-params": "off", // Promise 引数の検証は型チェックに委譲

    /* Perf */
    "unicorn/prefer-array-find": "error", // 単一要素の検索には find を使用

    /* Restriction */
    "default-case": "error", // switch 文に default case を強制
    "no-var": "error", // var の使用を禁止

    "typescript/no-explicit-any": "error", // any 型の使用を禁止
    "typescript/no-non-null-assertion": "error", // non-null assertion operator の使用を禁止
    "typescript/use-unknown-in-catch-callback-variable": "error", // catch 節では unknown 型を使用
    "typescript/no-empty-object-type": "error", // 空オブジェクト型 {} の使用を禁止
    "typescript/no-import-type-side-effects": "off", // 副作用を持つ type import を防止, typescript/consistent-type-imports に寄せる

    "unicorn/prefer-node-protocol": "error", // Node.js 組み込みモジュールは node: プロトコルで import

    /* Suspicious */
    "import/no-empty-named-blocks": "error", // 空の named import ブロックを検出

    "promise/no-multiple-resolved": "error", // Promise の複数回 resolve/reject を検出

    "typescript/no-unnecessary-template-expression": "error", // 不要なテンプレートリテラルを検出
    "typescript/no-unnecessary-type-assertion": "error", // 不要な型アサーションを検出
    "typescript/no-unsafe-type-assertion": "error", // 安全でない型アサーションを禁止

    /* Pedantic */
    "eqeqeq": "error", // 厳格等価演算子 === の使用を強制

    "typescript/ban-ts-comment": [
      "error",
      {
        "ts-ignore": true,
        "ts-expect-error": "allow-with-description",
        "ts-nocheck": "allow-with-description",
        "ts-check": false,
        "minimumDescriptionLength": 2
      }
    ], // TypeScript コメントディレクティブに理由の記述を強制
    "typescript/prefer-ts-expect-error": "error", // ts-ignore より ts-expect-error を優先(不要になった際の検出のため)
    "typescript/no-deprecated": "error", // 非推奨 API の使用を検出
    "typescript/no-misused-promises": "error", // Promise の誤用を検出
    "typescript/prefer-nullish-coalescing": "error", // null/undefined チェックには nullish coalescing を使用
    "typescript/require-await": "error", // async 関数には await を含めることを強制
    "typescript/switch-exhaustiveness-check": "error", // switch 文の網羅性をチェック
    "typescript/strict-boolean-expressions": "error", // 条件式での truthy/falsy の暗黙的変換を禁止
    "typescript/restrict-plus-operands": "error", // + 演算子のオペランド型を制限
    "typescript/no-unsafe-assignment": "error", // any 型からの代入を検出
    "typescript/no-unsafe-member-access": "error", // any 型のメンバーアクセスを検出
    "typescript/no-unsafe-call": "error", // any 型の関数呼び出しを検出
    "typescript/no-unsafe-return": "error", // any 型の return を検出
    "typescript/no-unsafe-argument": "error", // any 型の引数渡しを検出

    /* Style */
    "func-style": ["error", "expression"], // 関数宣言よりアロー関数式を優先
    "no-duplicate-imports": "error", // 同一モジュールからの import を統合
    "sort-imports": "off", // 自動修正対応してない・不安定・oxcfmt の experimentalSortImports でソートできるため無効n

    "import/consistent-type-specifier-style": "off", // type import は inline スタイルを使用, typescript/consistent-type-imports に寄せる

    "typescript/prefer-for-of": "error", // インデックスアクセス不要な場合は for-of を使用
    "typescript/consistent-type-imports": [
      "error",
      { "prefer": "type-imports", "fixStyle": "inline-type-imports" }
    ], // 型 import は type キーワードを使用
    "typescript/consistent-type-definitions": ["error", "type"], // 型定義は type を使用(interface より優先)

    /* Custom Restrictions */
    "no-console": "error", // console禁止 (loggerを使用)
    "node/no-process-env": "off", // 環境変数の使用を許可
    "no-restricted-globals": "off" // グローバルオブジェクトの制限なし
  },
  "settings": {
    "jsdoc": {
      "ignorePrivate": false,
      "ignoreInternal": false,
      "ignoreReplacesDocs": true,
      "overrideReplacesDocs": true,
      "augmentsExtendsReplacesDocs": false,
      "implementsReplacesDocs": false,
      "exemptDestructuredRootsFromChecks": false,
      "tagNamePreference": {}
    }
  },
  "env": {
    "builtin": true
  },
  "globals": {},
  "ignorePatterns": [
    "**/dist/**",
    "**/build/**",
    "**/out/**",
    "**/.cache/**",
    "**/*.generated.*",
    "**/generated/**",
    "**/*.tsbuildinfo"
  ]
}
